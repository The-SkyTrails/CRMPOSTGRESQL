<div class="modal fade" id="leadstatusupdateModal-{{i.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <form action="{% url "emp_lead_updated" i.id %}" method="post">
            {% csrf_token %}
            <input type="hidden" name="redirect_to" value="{{request.get_full_path}}">
            <div class="modal-content">
                <div class="modal-header">
                <h1 class="modal-title fs-5" id="exampleModalLabel">Lead Update</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <hr>
                <div class="modal-body">
                    
                   
                <label class="custom-form-label" for="">Lead Status</label>
                <select class="form-select" name="lead_status" id="assign_to_employee">
                    
                    {% for lead in lead %}
                    
                    <option value="{{lead.0}}" {% if lead.0 == i.lead_status %}selected{% endif %}>
                        {% if lead.0 == "New Lead" %}
                        New Lead(Presales)
                        {% elif lead.0 == "Active" %}
                        Active(Assesment)
                        {% elif lead.0 == "PreEnrolled" %}
                        PreEnrolled(Sales)
                        {% elif lead.0 == "Enrolled" %}
                        Enrolled(Documentation)
                        {% elif lead.0 == "Inprocess" %}
                        Inprocess(Visa Team)
                        {% elif lead.0 == "Ready To Submit" %}
                        Ready To Submit(Visa Team)
                        {% elif lead.0 == "Appointment" %}
                        Appointment(Visa Team)
                        {% elif lead.0 == "Result Awaited" %}
                        Result Awaited(Visa Team)
                        {% elif lead.0 == "Result" %}
                        Result(Visa Team)
                        {% elif lead.0 == "Approved" %}
                        Approved(Visa Team)
                        {% elif lead.0 == "Refuse" %}
                        Refuse(Visa Team)
                        {% elif lead.0 == "Ready To Collection" %}
                        Ready To Collection(Visa Team)
                        {% endif %}
                    </option>
                    
                    {% endfor %}
                    
                   
                </select>
                
            
                
                </div>
                <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="submit" class="btn btn-primary">Save</button>
                </div>
            </div>
        </form>
    </div>
  </div>

  
<script>
    document.addEventListener('show.bs.modal', function (event) {
        var button = event.relatedTarget; // Button that triggered the modal
        var modal = event.target; // The modal itself

        // Set hidden fields with current search parameters
        modal.querySelector('input[name="query"]').value = "{{ search_query }}";
        modal.querySelector('input[name="start_date"]').value = "{{ start_date|date:'Y-m-d' }}";
        modal.querySelector('input[name="end_date"]').value = "{{ end_date|date:'Y-m-d' }}";
        modal.querySelector('input[name="page"]').value = "{{ page.number }}";
    });
</script>


